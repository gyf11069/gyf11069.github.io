(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{498:function(t,e,s){"use strict";s.r(e);var a=s(30),n=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"使用-git-推送代码时出现的问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用-git-推送代码时出现的问题"}},[t._v("#")]),t._v(" 使用 Git 推送代码时出现的问题")]),t._v(" "),s("h3",{attrs:{id:"_1、问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1、问题"}},[t._v("#")]),t._v(" 1、问题")]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" push\nLogon failed, use ctrl+c to cancel basic credential prompt.\nremote: Support "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" password authentication was removed on August "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("13")]),t._v(", "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2021")]),t._v(". Please use a personal access token instead.\nremote: Please see https://github.blog/2020-12-15-token-authentication-requirements-for-git-operations/ "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("more")]),t._v(" information.\nfatal: Authentication failed "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://github.com/gyf11069/gyf11069.github.io.git/'")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("p",[t._v("大致的意思是从"),s("code",[t._v("2021.8.13")]),t._v("开始就不支持通过账号密码的方式远程连接"),s("code",[t._v("Github")]),t._v("，需要用个人令牌进行远程连接。")]),t._v(" "),s("blockquote",[s("p",[t._v("注："),s("a",{attrs:{href:"https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token",target:"_blank",rel:"noopener noreferrer"}},[t._v("个人访问令牌"),s("OutboundLink")],1),t._v("只能用于 "),s("code",[t._v("HTTPS Git")]),t._v("操作。如果您的存储库使用 "),s("code",[t._v("SSH")]),t._v("远程 "),s("code",[t._v("URL")]),t._v("，则需要将"),s("a",{attrs:{href:"https://docs.github.com/en/github/getting-started-with-github/managing-remote-repositories/#switching-remote-urls-from-ssh-to-https",target:"_blank",rel:"noopener noreferrer"}},[t._v("远程从 SSH 切换到 HTTPS"),s("OutboundLink")],1),t._v("。")])]),t._v(" "),s("p",[t._v("于是我就到上述给出的地址"),s("code",[t._v("https://github.blog/2020-12-15-token-authentication-requirements-for-git-operations/")]),t._v("查看是否有解决办法，里面主要说明了一下 Git 操作的令牌认证要求。我找到“你需要做什么标题处”发现可以使用 HTTPS（推荐）或 SSH 密钥个人令牌进行验证。我就想可能是我配置的 SSH 密钥出问题了，我就"),s("a",{attrs:{href:"https://docs.github.com/en/authentication/connecting-to-github-with-ssh/testing-your-ssh-connection",target:"_blank",rel:"noopener noreferrer"}},[t._v("测试我的 SSH 连接"),s("OutboundLink")],1),t._v("。发现果然有问题。（生成的 SSH 密钥一年未使用的话会被自动删除。注意先查看一下是否过期）")]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("HP@GYUNF MINGW64 /e/blog/gyf11069.github.io "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n$ ssh-add -l -E sha256\nThe agent has no identities.\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[t._v("查询是否添加了"),s("code",[t._v("ssh-agent")]),t._v("时报错了，于是我就接着按照"),s("a",{attrs:{href:"https://docs.github.com/en/authentication/connecting-to-github-with-ssh/testing-your-ssh-connection",target:"_blank",rel:"noopener noreferrer"}},[t._v("测试我的 SSH 连接"),s("OutboundLink")],1),t._v("的步骤进行操作，使用下面的代码解决了问题。")]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("HP@GYUNF MINGW64 /e/blog/gyf11069.github.io "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n$ ssh-add ~/.ssh/id_rsa\nIdentity added: /c/Users/HP/.ssh/id_rsa "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1224254097")]),t._v("@qq.com"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[t._v("当我输入如下测试 "),s("code",[t._v("SSH")]),t._v("连接时又报错了：")]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ssh")]),t._v(" -T git@github.com\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("错误信息如下：（这个信息应该不算是报错信息）")]),t._v(" "),s("blockquote",[s("p",[t._v("Hi gyf11069! You've successfully authenticated, but GitHub does not provide shell access.")]),t._v(" "),s("p",[t._v("您已成功通过身份验证，但 GitHub 不提供"),s("code",[t._v("shell")]),t._v("访问权限。")])]),t._v(" "),s("p",[t._v("我将报错信息复制到百度，查看是否有解决方案，找了一个比较靠谱的方案解决了问题。但是没有解释具体是什么原因造成的，所以我继续在 "),s("code",[t._v("Github")]),t._v("文档中寻找答案，最终在"),s("a",{attrs:{href:"https://docs.github.com/en/get-started/getting-started-with-git/managing-remote-repositories#changing-a-remote-repositorys-url",target:"_blank",rel:"noopener noreferrer"}},[t._v("管理远程存储库"),s("OutboundLink")],1),t._v("找到的原因。")]),t._v(" "),s("p",[t._v("原因分析：出现上述问题是因为我设置的远程存储库的 URL 没有一一对应导致的。我克隆仓库时是使用 HTTPS 的方式克隆的，我提交是使用 SSH URL 的方式进行的。所以产生了矛盾。")]),t._v(" "),s("h3",{attrs:{id:"_2、解决方案"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2、解决方案"}},[t._v("#")]),t._v(" 2、解决方案")]),t._v(" "),s("blockquote",[s("p",[t._v("git remote set-url origin git@github.com:gyf11069/gyf11069.github.io.git")])]),t._v(" "),s("p",[t._v("然后再输入"),s("code",[t._v("git push")]),t._v("就行了。")]),t._v(" "),s("p",[t._v("该"),s("code",[t._v("git remote set-url")]),t._v("命令作用是更改现有的远程存储库 "),s("code",[t._v("URL")]),t._v("。（"),s("strong",[t._v("提示")]),t._v("：有关 HTTPS 和 SSH URL 之间区别的信息，请参阅“"),s("a",{attrs:{href:"https://docs.github.com/en/github/getting-started-with-github/about-remote-repositories",target:"_blank",rel:"noopener noreferrer"}},[t._v("关于远程存储库"),s("OutboundLink")],1),t._v("”。）")]),t._v(" "),s("p",[t._v("该"),s("code",[t._v("git remote set-url")]),t._v("命令有两个参数：")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("现有的远程名称。例如，"),s("code",[t._v("origin")]),t._v(" or "),s("code",[t._v("upstream")]),t._v("是两个常见的选择。")])]),t._v(" "),s("li",[s("p",[t._v("远程的新 "),s("code",[t._v("URL")]),t._v("。例如：")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("如果您要更新以使用 "),s("code",[t._v("HTTPS")]),t._v("，您的 "),s("code",[t._v("URL")]),t._v("可能如下所示：")]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("https://github.com/用户名/仓库名.git\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])])]),t._v(" "),s("li",[s("p",[t._v("如果您要更新以使用 "),s("code",[t._v("SSH")]),t._v("，您的 "),s("code",[t._v("URL")]),t._v("可能如下所示：")]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("git@github.com:用户名/仓库名.git\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])])])])])]),t._v(" "),s("p",[t._v("我使用的克隆和推送的命令：")]),t._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 克隆")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone https://github.com/用户名/仓库名.git\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#推送,先将远程 URL 修改为 SSH URL")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" remote set-url origin git@github.com:用户名/仓库名.git\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 推送至远程仓库")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" push\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])]),s("h3",{attrs:{id:"_3、总结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3、总结"}},[t._v("#")]),t._v(" 3、总结")]),t._v(" "),s("p",[s("strong",[t._v("在"),s("code",[t._v("Github")]),t._v("使用"),s("code",[t._v("git")]),t._v("克隆项目时使用哪种方式克隆，就使用哪种方式推送源代码到"),s("code",[t._v("Github")]),t._v("仓库。")])])])}),[],!1,null,null,null);e.default=n.exports}}]);