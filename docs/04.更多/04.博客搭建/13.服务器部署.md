---
title: 服务器部署
date: 2022-01-27 16:33:00
permalink: /pages/171e9a/
categories:
  - 更多
  - 博客搭建
tags:
---





目录挂载：

```sh
docker cp nginx01:/etc/nginx/conf.d /usr/dokcer_nginx_data/conf_d
docker cp nginx01:/usr/share/nginx/html /usr/dokcer_nginx_data/html
docker cp nginx01:/var/log/nginx /usr/dokcer_nginx_data/log

-v /usr/dokcer_nginx_data/conf.d:/etc/nginx/conf.d  -v /usr/dokcer_nginx_data/log:/var/log/nginx  -v /usr/dokcer_nginx_data/html:/usr/share/nginx/html
```

`Docker` 中的 `Nginx `的文件目录：

```sh
# 后台运行(-d) 一个容器名(--name)为 ngix01 的nginx容器，将宿主机的 3344 端口映射给ngix01容器的 80 端口
[root@iZbp13mkmwsaey4fbsreozZ ~]# docker run -d --name nginx01 -p 3344:80 nginx
e6401b3b9e3f6cdb39db20556a3d99d31d0050497600027f2ec7c54dd86193b4

# 进入容器
[root@iZbp13mkmwsaey4fbsreozZ ~]# docker exec -it nginx01 /bin/bash
root@e6401b3b9e3f:/# whereis nginx
nginx: /usr/sbin/nginx /usr/lib/nginx /etc/nginx /usr/share/nginx

# html 文件所在路径
root@e6401b3b9e3f:/# cd /usr/share/nginx
root@e6401b3b9e3f:/usr/share/nginx# ls
html

# log 文件所在路径
root@e6401b3b9e3f:/# cd /var/log
root@e6401b3b9e3f:/var/log# ls
apt  btmp  dpkg.log  faillog  lastlog  nginx  wtmp

# conf.d 和 nginx.conf 文件所在路径
root@e6401b3b9e3f:/# cd etc/nginx
root@e6401b3b9e3f:/etc/nginx# ls
conf.d	fastcgi_params	mime.types  modules  nginx.conf  scgi_params  uwsgi_params

# 退出容器
root@e6401b3b9e3f:/# exit
exit

# 删除容器
docker rm -f 容器名


docker run --name nginx01 -d -p 3344:80 --restart always \
-v /usr/dokcer_nginx_data/conf.d:/etc/nginx/conf.d \
-v /usr/dokcer_nginx_data/log:/var/log/nginx \
-v /usr/dokcer_nginx_data/html:/usr/share/nginx/html \
-v /home/mhd:/home/mhd \
--network web --network-alias nginx \
nginx
```

